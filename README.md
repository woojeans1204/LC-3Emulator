# LC-3 Emulator

## 프로젝트 개요

**LC-3 Emulator**는 LC-3 어셈블리 언어를 시뮬레이션하고 학습하기 위한 도구입니다. 이 프로젝트는 LC-3 CPU의 동작, 명령어 집합, 메모리 구조를 재현하여 사용자가 어셈블리 언어의 원리를 실습하고 디버깅할 수 있도록 설계되었습니다.

주요 구성 요소로는 **어셈블러**, **시뮬레이터**, **테스트 프레임워크**가 포함되어 있습니다. 이를 통해 LC-3 어셈블리 코드를 작성하고, 실행하며, 결과를 디버깅할 수 있습니다.

---

## 주요 기능

1. **어셈블러**

   - LC-3 어셈블리 코드를 바이너리 오브젝트 파일로 변환.
   - 심볼 테이블 관리, 코드 인코딩, 구문 분석 기능 포함.

2. **시뮬레이터**

   - LC-3 CPU의 레지스터, 메모리, 스택 동작을 정확히 재현.
   - 명령어 실행, 디버깅, 상태 추적 가능.

3. **테스트 프레임워크**

   - 어셈블러 및 시뮬레이터의 기능을 검증하기 위한 단위 테스트 제공.
   - 명령어 실행 결과를 자동으로 평가.

4. **확장 가능성**
   - LC-3 명령어 집합을 확장하거나 커스텀 명령어 추가 가능.

---

## 디렉터리 구조

```
📁 LC-3Emulator
├── 📁 .git                    # Git 관련 파일
├── 📁 .vscode                 # VSCode 설정 파일
├── 📁 build                   # 빌드 파일 및 실행 파일
├── 📁 include                 # 프로젝트 헤더 파일
│   ├── 📁 Assembler           # 어셈블러 관련 헤더
│   ├── 📁 Simulator           # 시뮬레이터 관련 헤더
├── 📁 sample                  # 샘플 LC-3 코드
├── 📁 src                     # 소스 파일
│   ├── 📁 Assembler           # 어셈블러 소스
│   ├── 📁 Simulator           # 시뮬레이터 소스
├── 📁 tests                   # 단위 테스트
├── CMakeLists.txt             # CMake 빌드 스크립트
└── README.md                  # 프로젝트 설명
```

---

## 주요 컴포넌트 설명

### 어셈블러

1. **Assembler**

   - 어셈블리 코드를 파싱하고, 심볼 테이블 및 메모리 맵핑을 생성.

2. **Encoder**

   - LC-3 명령어를 바이너리 형식으로 인코딩.

3. **Parser**

   - 어셈블리 코드를 토큰화하여 구문 분석 수행.

4. **SymbolTable**
   - 심볼과 메모리 주소 간의 매핑을 관리.

---

### 시뮬레이터

1. **Instruction**

   - LC-3 명령어의 구조와 동작 정의.

2. **LC3Emulator**

   - 레지스터, 메모리, 스택 등 LC-3 시스템의 상태 관리.

3. **Decoder**

   - 바이너리 명령어를 디코딩하여 실행 가능한 객체로 변환.

4. **RegisterFile**
   - LC-3 레지스터의 상태를 관리.

---

### 테스트 프레임워크

- 각 컴포넌트의 정확성을 검증하기 위해 단위 테스트 제공.
- 주요 테스트 항목:
  - 어셈블러 기능 (Assembler, Encoder, Parser, SymbolTable).
  - 시뮬레이터의 명령어 실행 및 메모리 동작.
  - 명령어별 동작 검증 (ADD, AND, BR, LD 등).

---

## 빌드 및 실행

### 필수 요구사항

- C++17 이상 지원 컴파일러
- CMake 3.16 이상

### 빌드

```bash
mkdir build
cd build
cmake ..
cmake --build .
```

### 실행

```bash
./LC3Emulator
```

---

## 사용 예시

### 어셈블러 사용

다음과 같은 LC-3 어셈블리 코드를 작성:

```asm
.ORIG x3000
ADD R0, R1, R2
HALT
.END
```

이 코드를 어셈블하면 바이너리 오브젝트 파일로 변환됩니다.

### 시뮬레이터 사용

1. 바이너리 오브젝트 파일을 시뮬레이터에 로드.
2. 명령어를 실행하며 CPU와 메모리 상태를 추적.
3. 디버깅 도구를 사용해 레지스터와 메모리 내용을 검사.

---
